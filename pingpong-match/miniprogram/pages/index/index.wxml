<view class="home-page">
  <!-- é¡¶éƒ¨æ¬¢è¿åŒºåŸŸ -->
  <view class="header">
    <view class="welcome">
      <text class="title">ä¹’ä¹“çº¦æˆ˜</text>
      <text class="subtitle">æ™ºèƒ½åŒ¹é… è½»æ¾çº¦æˆ˜</text>
    </view>
    <view class="user-info" wx:if="{{userInfo}}">
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill" />
      <text class="nickname">{{userInfo.nickName}}</text>
    </view>
  </view>

  <!-- åŠŸèƒ½å¯¼èˆª - ä¿®æ”¹å¯¼èˆªæ–¹å¼ -->
  <view class="nav-grid">
    <navigator url="../evaluation/evaluation" class="nav-item" hover-class="nav-hover">
      <image class="nav-icon" src="/assets/icons/level.png" mode="aspectFit" />
      <text class="nav-text">æŠ€æœ¯æµ‹è¯„</text>
    </navigator>
    
    <navigator url="../match/match" class="nav-item" hover-class="nav-hover" open-type="switchTab">
      <image class="nav-icon" src="/assets/icons/match.png" mode="aspectFit" />
      <text class="nav-text">æ‰¾å¯¹æ‰‹</text>
    </navigator>
    
    <navigator url="../schedule/schedule" class="nav-item" hover-class="nav-hover">
      <image class="nav-icon" src="/assets/icons/schedule.png" mode="aspectFit" />
      <text class="nav-text">æ—¥ç¨‹å®‰æ’</text>
    </navigator>
  </view>

  <!-- æœ€è¿‘çº¦æˆ˜ -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘çº¦æˆ˜</text>
      <navigator url="../match/match" class="more" open-type="switchTab">æŸ¥çœ‹æ›´å¤š ></navigator>
    </view>
    <view class="match-list">
      <view class="match-item" wx:for="{{recentMatches}}" wx:key="_id">
        <view class="match-info">
          <text class="match-time">{{item.selectedTime}}</text>
          <text class="match-location">ğŸ“ {{item.location}}</text>
        </view>
        <view class="match-status {{item.status}}">{{item.status === 'accepted' ? 'å·²ç¡®è®¤' : 'ç­‰å¾…ç¡®è®¤'}}</view>
      </view>
      <view class="empty-state" wx:if="{{recentMatches.length === 0}}">
        <text>æš‚æ— çº¦æˆ˜è®°å½•</text>
      </view>
    </view>
  </view>

  <!-- ç³»ç»Ÿå…¬å‘Š -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">ç³»ç»Ÿå…¬å‘Š</text>
    </view>
    <view class="announcement-list">
      <view class="announcement-item" wx:for="{{announcements}}" wx:key="_id">
        <view class="announcement-content">
          <text class="announcement-title">{{item.title}}</text>
          <text class="announcement-time">{{item.createTime}}</text>
        </view>
        <view class="announcement-arrow">></view>
      </view>
      <view class="empty-state" wx:if="{{announcements.length === 0}}">
        <text>æš‚æ— ç³»ç»Ÿå…¬å‘Š</text>
      </view>
    </view>
  </view>
</view>

<!-- åŠ è½½æç¤º -->
<view class="loading" wx:if="{{loading}}">
  <view class="loading-icon"></view>
  <text class="loading-text">åŠ è½½ä¸­...</text>
</view>